<launch>
    <arg name="rtabmap_args"            default="-d"/>
    <arg name="launch_prefix"           default=""/>
    <arg name="frame_id"                default="base_link_gazebo"/>
    <arg name="odom_frame_id"           default="odom_gazebo"/>
    <arg name="scan_topic"              default="scan"/>
    <arg name="odom_topic"              default="odom"/>
    <arg name="namespace"               default="/"/>
    <arg name="database_path"           default="~/.ros/rtabmap.db"/>
    <arg name="queue_size"              default="10"/>
    <arg name="wait_for_transform"      default="0.2"/>
    <!-- Corresponding config files -->
    <arg name="cfg"                     default="" /> <!-- To change RTAB-Map's parameters, set the path of config file (*.ini) generated by the standalone app -->
    <arg name="gui_cfg"                 default="~/.ros/rtabmap_gui.ini" />
    <!--<arg name="rviz_cfg"                default="$(find rtabmap_ros)/launch/config/rgbd.rviz" />-->

    <!-- Visual SLAM (robot side) -->
    <!-- args: "delete_db_on_start" and "udebug" -->
    <node name="rtabmap" pkg="rtabmap_ros" type="rtabmap" output="screen" args="$(arg rtabmap_args)" launch-prefix="$(arg launch_prefix)">
      <param name="subscribe_scan"       type="bool"   value="true"/>
      <param name="frame_id"             type="string" value="$(arg frame_id)"/>
      <param name="odom_frame_id"        type="string" value="$(arg odom_frame_id)"/>
      <param name="wait_for_transform_duration"  type="double"   value="$(arg wait_for_transform)"/>
      <param name="database_path"        type="string" value="$(arg database_path)"/>
      <param name="approx_sync"          type="bool"   value="true"/>
      <param name="config_path"          type="string" value="$(arg cfg)"/>
      <param name="queue_size"           type="int" value="$(arg queue_size)"/>
      
      <remap from="odom"  to="$(arg odom_topic)"/>
      
    </node>

</launch>